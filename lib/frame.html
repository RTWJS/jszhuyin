<!doctype html>
<html lang="zh-TW">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <!-- Matomo -->
  <script type="text/javascript">
    var _paq = window._paq || [];
    /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
    _paq.push(['trackPageView']);
    _paq.push(['enableLinkTracking']);
    (function() {
      var u="//timc.idv.tw/matomo/";
      _paq.push(['setTrackerUrl', u+'matomo.php']);
      _paq.push(['setSiteId', '11']);
      var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
      g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
    })();
  </script>
  <!-- End Matomo Code -->
  <title>JSZhuyin frame</title>
  <!--
    This page is here to make JSZhuyin self-contain.
    The original intention was to access this page hosted off-origin so people don't need to
    load the database multiple times. However, browsers have since block presistent data
    access from iframes by default, making this technique obsolete.
    It is now recommended to load JSZhuyin into a worker instead.
  -->
  <script src="bopomofo_encoder.js"></script>
  <script src="jszhuyin_data_pack.js"></script>
  <script src="storage.js"></script>
  <script src="data_loader.js"></script>
  <script src="jszhuyin.js"></script>

  <script src="jszhuyin_server.js"></script>
  <script>
    var fn = JSZhuyinServer.sendMessage;
    JSZhuyinServer.sendMessage = function(type, data, reqId) {
      if (type === 'compositionend') {
        window._paq && window._paq.push(['trackEvent', 'WebIME', 'compositionend', '', 1]);
      }
      return fn.call(JSZhuyinServer, type, data, reqId);
    };
  </script>
</head>
</html>
